[trading]
# 최대 동시 보유 종목 수
max_positions = 10

# 종목당 투자 비율 (전체 자산 대비 %)
position_size_pct = 5

# 손절 임계값 (%)
stop_loss_pct = -3.0

# 익절 임계값 (%)
take_profit_pct = 5.0

# 일일 최대 손실률 (%)
max_daily_loss_pct = -10.0

# 최대 허용 변동성
max_volatility = 0.03

# 일일 최대 리스크 금액
daily_risk_limit = 1000000

[strategy]
# 최소 필요 전략 신호 수
min_strategies = 3

# 최소 앙상블 점수
min_score = 0.6

# 전략별 가중치
momentum_weight = 1.0
volume_weight = 1.2
pattern_weight = 0.8
mean_reversion_weight = 0.9

[websocket]
# 재연결 간격 (초)
reconnect_interval = 5

# 최대 재연결 시도 횟수
max_reconnect_attempts = 10

# 데이터 버퍼 크기
buffer_size = 1000

[telegram]
# 알림 설정
enable_trade_alerts = true
enable_error_alerts = true
enable_daily_report = true

# 텔레그램 봇 토큰은 .env 파일에서 관리

[database]
# SQLite 파일 경로
db_path = database/trading.db

# 백업 주기 (시간)
backup_interval = 24

[logging]
# 로그 레벨 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
log_level = INFO

# 로그 파일 보관 기간 (일)
log_retention_days = 30

[market]
# 장 시작 시간
market_open = 09:00

# 장 종료 시간
market_close = 15:30

# 동시호가 시작 시간
pre_market_open = 08:30

# 장 종료 전 포지션 정리 시간 (분)
position_close_before = 10

[scanner]
# 종목 선정 개수
target_stocks_count = 30

# 최소 시가총액 (억원)
min_market_cap = 1000

# 최소 일평균 거래대금 (억원)
min_daily_volume = 10

# ========================================
# 시간대별 전략 설정
# ========================================

[strategy_golden_time]
# 장 시작 골든타임 (09:00-09:30)
start_time = 09:00
end_time = 09:30
description = 장 시작 골든타임 - Gap Trading 중심
# 주요 전략 (primary_전략명 = 가중치)
primary_gap_trading = 1.0
# 보조 전략 (secondary_전략명 = 가중치)
secondary_volume_breakout = 0.5

[strategy_morning_leaders]
# 오전 주도주 시간 (09:30-11:30)
start_time = 09:30
end_time = 11:30
description = 오전 주도주 시간 - Volume Breakout + Momentum
# 주요 전략
primary_volume_breakout = 0.7
primary_momentum = 0.3
# 보조 전략
secondary_gap_trading = 0.3

[strategy_lunch_time]
# 점심 시간대 (11:30-14:00)
start_time = 11:30
end_time = 14:00
description = 점심 시간대 - Volume Breakout 위주
# 주요 전략
primary_volume_breakout = 0.8
# 보조 전략
secondary_momentum = 0.2

[strategy_closing_trend]
# 마감 추세 시간 (14:00-15:20)
start_time = 14:00
end_time = 15:20
description = 마감 추세 시간 - Momentum + Volume Breakout
# 주요 전략
primary_momentum = 0.6
primary_volume_breakout = 0.4
# 보조 전략 없음

# ========================================
# 전략별 개별 설정
# ========================================

[gap_trading_config]
# 갭 트레이딩 전략 설정
min_gap_percent = 3.0
max_gap_percent = 15.0
min_volume_ratio = 2.0

[volume_breakout_config]
# 거래량 돌파 전략 설정
min_volume_ratio = 3.0
min_price_change = 1.0

[momentum_config]
# 모멘텀 전략 설정
min_momentum_percent = 1.5
min_volume_ratio = 1.5

# ========================================
# KIS API 설정
# ========================================

[kis_api]
# API 호출 제한 설정
rate_limit_per_second = 20
rate_limit_per_minute = 1000
request_timeout = 30

# 토큰 관리
token_refresh_minutes = 1380

[risk_management]
# 일반 손절/익절 설정 (%)
stop_loss_percent = -2.0
take_profit_percent = 3.0

[position_protection]
# 시간대 변경 시 포지션 보호 설정 (더 보수적, %)
stop_loss_percent = -2.0
take_profit_percent = 2.0

[monitoring]
# 포지션 모니터링 간격 (초)
position_check_interval = 3
no_position_wait_time = 10
