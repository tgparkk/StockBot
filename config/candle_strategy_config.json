{
    "// 🎯 캔들패턴 전략 설정 파일": "외부에서 수정 가능한 거래 설정",
    "scan_interval_seconds": 60,
    "signal_evaluation_interval": 10,
    "max_positions": 50,
    "max_scan_stocks": 80,
    "risk_per_trade": 0.02,
    "pattern_confidence_threshold": 0.6,
    "volume_threshold": 1.5,
    "min_volume_ratio": 2.0,
    "trading_start_time": "09:00",
    "trading_end_time": "15:20",
    "min_price": 1000,
    "max_price": 500000,
    "min_daily_volume": 5000000000,
    "rsi_oversold_threshold": 30,
    "rsi_overbought_threshold": 70,
    "max_day_change_pct": 12.0,
    "price_position_filters": {
        "enabled": true,
        "max_position_vs_20d_high": 90.0,
        "max_position_vs_60d_high": 95.0,
        "max_daily_change_for_entry": 12.0,
        "max_intraday_high_ratio": 95.0,
        "description": "적극적 수준: 고가 대비 위치 체크로 고점 매수 방지"
    },
    "surge_protection": {
        "enabled": true,
        "max_3day_surge": 25.0,
        "max_5day_surge": 35.0,
        "cooldown_after_surge_days": 1,
        "check_volume_confirmation": true,
        "description": "급등 후 고점 매수 방지 (적극적 수준)"
    },
    "technical_position_filters": {
        "enabled": true,
        "max_bollinger_position": 85.0,
        "rsi_high_threshold": 65.0,
        "avoid_upper_shadow_ratio": 2.5,
        "min_support_distance": 3.0,
        "description": "기술적 지표 기반 고점 회피 (적극적 수준)"
    },
    "max_signal_age_seconds": 300,
    "min_order_interval_seconds": 300,
    "max_priority_multiplier": 1.5,
    "base_priority_multiplier": 0.5,
    "max_single_investment_ratio": 0.2,
    "max_position_size_pct": 25,
    "default_stop_loss_pct": 2.5,
    "default_target_profit_pct": 3.0,
    "max_holding_hours": 72,
    "min_holding_minutes": 1440,
    "emergency_stop_loss_pct": 5.0,
    "min_holding_override_conditions": {
        "high_profit_target": 2.0,
        "pattern_reversal": true,
        "description": "긴급상황: 높은수익(2.0%이상) 즉시실현, 긴급손절(-6%이하) 즉시매도"
    },
    "pattern_targets": {
        "hammer": {
            "target": 2.5,
            "stop": 2.0,
            "max_hours": 48,
            "min_minutes": 1440,
            "description": "망치형: 데이트레이딩 지향, 24시간 최소 보유"
        },
        "inverted_hammer": {
            "target": 2.0,
            "stop": 2.0,
            "max_hours": 36,
            "min_minutes": 1440,
            "description": "역망치형: 데이트레이딩 지향, 24시간 최소 보유"
        },
        "bullish_engulfing": {
            "target": 3.0,
            "stop": 2.0,
            "max_hours": 60,
            "min_minutes": 1440,
            "description": "상승장악형: 데이트레이딩 지향, 24시간 최소 보유"
        }
    },
    "time_exit_rules": {
        "profit_exit_hours": 36,
        "min_profit_for_time_exit": 1.5,
        "market_close_exit_minutes": 30,
        "overnight_avoid": false,
        "weekend_gap_risk": true,
        "loss_situation_time_exit_block": true,
        "pattern_strength_multiplier": {
            "high": 1.5,
            "medium": 1.0,
            "low": 0.7
        },
        "description": "수익 중 시간 청산: 36시간 후 1.5% 이상 수익시만, 손실시 차단"
    },
    "execution_time_strategy": {
        "use_execution_time": true,
        "min_holding_from_execution": 1440,
        "early_morning_bonus_hours": 4,
        "late_trading_penalty_hours": -6,
        "weekend_gap_consideration": true,
        "friday_afternoon_caution": true
    },
    "investment_calculation": {
        "available_amount_ratio": 0.9,
        "cash_usage_ratio": 0.8,
        "portfolio_usage_ratio": 0.2,
        "min_cash_threshold": 500000,
        "max_portfolio_limit": 3000000,
        "default_investment": 800000,
        "min_investment": 500000
    },
    "intraday_analysis": {
        "enabled": true,
        "minute_period": 5,
        "lookback_candles": 20,
        "volume_surge_threshold": 2.0,
        "trend_threshold_pct": 0.3,
        "support_resistance_pct": 1.0,
        "timing_score_weight": 0.2,
        "use_for_entry_only": false,
        "excluded_hours": [
            9,
            15
        ],
        "excluded_minutes_start": 15,
        "excluded_minutes_end": 15,
        "pattern_confirmation_mode": true
    },
    "scan_strategy": {
        "initial_scan_on_start": true,
        "pattern_scan_intervals": {
            "09:00-10:00": 900,
            "10:00-14:00": 1800,
            "14:00-15:30": 900
        },
        "special_scan_triggers": {
            "market_volatility_high": true,
            "volume_surge_detected": true,
            "new_pattern_formation": true
        },
        "batch_processing": {
            "enabled": true,
            "batch_size": 5,
            "parallel_processing": true,
            "batch_interval_ms": 300
        }
    },
    "quality_management": {
        "min_replacement_score_gap": 50,
        "auto_cleanup_enabled": true,
        "cleanup_interval_hours": 1,
        "pattern_expiry_hours": 6,
        "min_confidence_for_priority": 0.7,
        "min_strength_for_priority": 80,
        "quality_score_weights": {
            "confidence": 1.5,
            "strength": 1.2,
            "pattern_type": 1.0,
            "freshness": 0.8
        },
        "pattern_invalidation": {
            "enabled": true,
            "consecutive_opposite_days": 2,
            "price_decline_threshold": -3.0,
            "volume_decline_threshold": 0.5,
            "max_pattern_age_days": 3,
            "description": "패턴 무효화 조건: 연속 반대 움직임 시 패턴 제외"
        }
    },
    "trading_thresholds": {
        "min_buy_signal_score": 70,
        "min_strong_buy_score": 85,
        "min_pattern_strength": 70,
        "min_pattern_confidence": 0.65,
        "max_daily_trades": 5,
        "comment": "매수 신호 생성 임계값 설정"
    },
    "market_condition_adjustments": {
        "comment": "시장 상황에 따른 매매 전략 조정",
        "bull_market": {
            "entry_threshold_multiplier": 0.8,
            "position_size_multiplier": 1.2,
            "pattern_weight_bonus": 10,
            "max_positions_bonus": 5,
            "description": "상승장: 더 적극적 진입"
        },
        "bear_market": {
            "entry_threshold_multiplier": 1.3,
            "position_size_multiplier": 0.7,
            "pattern_weight_penalty": -15,
            "max_positions_reduction": -10,
            "description": "하락장: 보수적 진입"
        },
        "neutral_market": {
            "entry_threshold_multiplier": 1.0,
            "position_size_multiplier": 1.0,
            "pattern_weight_bonus": 0,
            "max_positions_bonus": 0,
            "description": "중립장: 기본 설정"
        },
        "high_volatility": {
            "stop_loss_tighter": 0.7,
            "target_profit_wider": 1.3,
            "position_size_reduction": 0.8,
            "description": "고변동성: 손절 강화, 목표 확대"
        },
        "low_volatility": {
            "stop_loss_relaxed": 1.2,
            "target_profit_normal": 1.0,
            "position_size_normal": 1.0,
            "description": "저변동성: 일반적 설정"
        },
        "foreign_buying": {
            "bullish_pattern_bonus": 15,
            "entry_confidence_bonus": 0.1,
            "description": "외국인 매수: 상승 패턴 가중치 증가"
        },
        "foreign_selling": {
            "bearish_pattern_awareness": true,
            "entry_caution_multiplier": 1.2,
            "quick_exit_trigger": true,
            "description": "외국인 매도: 신중한 진입, 빠른 청산"
        },
        "update_interval_seconds": 3600,
        "enable_market_condition_logging": true
    }
}
